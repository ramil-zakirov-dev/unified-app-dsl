# Макет DSL — Документация

**Макет DSL** — это слой в архитектуре Unified App DSL, предназначенный для декларативного описания структуры, расположения и адаптивности элементов пользовательского интерфейса. Он служит фундаментом для UI DSL, обеспечивая разметку и правила позиционирования компонентов.

---

## Цели Макет DSL

* Отделить визуальное расположение от логики и данных
* Поддержка адаптивности (экран, платформа, ориентация)
* Переиспользуемость шаблонов и компонентов
* Упрощение генерации кода и визуальных макетов (включая Figma)

---

## Базовые конструкции

### Пример базового экрана

```dsl
экран МенюРесторана {
  макет: ВертикальныйСтек {
    отступы: 16
    элементы: [
      ЗаголовокМеню,
      СписокБлюд,
      Корзина,
      КнопкаПерейтиКОплате
    ]
  }
}

экран ОформлениеЗаказа {
  макет: ВертикальныйСтек {
    отступы: 16
    элементы: [
      Корзина,
      ЭкранОплаты,
      КнопкаОплатить
    ]
  }
}
```

### Типы макетов

```dsl
макет: ВертикальныйСтек {
  отступы: 16
  элементы: [
    Заголовок,
    Список,
    Кнопка
  ]
}

макет: ГоризонтальныйСтек {
  отступы: 16
  элементы: [
    Заголовок,
    Список,
    Кнопка
  ]
}

макет: СеткаБлюд {
  колонки: 2
  отступ: 8
  элементы: [
    Карточка1,
    Карточка2,
    Карточка3
  ]
}

макет: АбсолютноеПозиционирование {
  элементы: [
    { компонент: Кнопка, x: 20, y: 50 },
    { компонент: Картинка, x: 100, y: 100 }
  ]
}
```

### Условия адаптивности

```dsl
адаптивность {
  если платформа = 'мобильная' {
    макет: ВертикальныйСтек
  }
  если платформа = 'десктоп' {
    макет: ГоризонтальныйСтек
  }
}
```

### Переиспользуемые компоненты

```dsl
компонент КарточкаУслуги {
  макет: Слой {
    элементы: [
      Изображение,
      Название,
      Цена
    ]
  }
}

экран Услуги {
  макет: Сетка {
    колонки: 2
    элементы: [
      КарточкаУслуги,
      КарточкаУслуги,
      КарточкаУслуги
    ]
  }
}
```

---

## Интеграция с другими DSL

| DSL             | Взаимодействие                          |
| --------------- | --------------------------------------- |
| UI DSL          | Описывает внешний вид компонентов       |
| Взаимодействие DSL | Указывает взаимодействия с элементами   |
| Проверка DSL        | Проверяет корректную разметку           |
| Анимация DSL   | Привязывает анимации к позициям/размеру |

---

## Особенности

* Поддержка условий отображения элементов
* Возможность динамического скрытия/показа блоков
* Поддержка вложенных макетов и модульности

---

## Пример: экран профиля

```dsl
экран ПрофильПользователя {
  макет ВертикальныйСтек {
    элементы: [
      Аватар,
      Имя,
      КнопкаРедактировать,
      если роль = 'админ' {
        КнопкаУправление
      }
    ]
  }
}
```