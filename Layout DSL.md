# Layout DSL — Документация

**Layout DSL** — это слой в архитектуре Unified App DSL, предназначенный для декларативного описания структуры, расположения и адаптивности элементов пользовательского интерфейса. Он служит фундаментом для UI DSL, обеспечивая разметку и правила позиционирования компонентов.

---

## Цели Layout DSL

* Отделить визуальное расположение от логики и данных
* Поддержка адаптивности (экран, платформа, ориентация)
* Переиспользуемость шаблонов и компонентов
* Упрощение генерации кода и визуальных макетов (включая Figma)

---

## Базовые конструкции

### Пример базового экрана

```dsl
экран Главная {
  макет ВертикальныйСтек {
    отступы: 16
    элементы: [
      Заголовок,
      Поиск,
      СписокКатегорий,
      НижнееМеню
    ]
  }
}
```

### Типы макетов

```dsl
макет ВертикальныйСтек { ... }
макет ГоризонтальныйСтек { ... }
макет Сетка {
  колонки: 2
  отступ: 8
  элементы: [Карточка1, Карточка2, Карточка3]
}
макет АбсолютноеПозиционирование {
  элементы: [
    { компонент: Кнопка, x: 20, y: 50 },
    { компонент: Картинка, x: 100, y: 100 }
  ]
}
```

### Условия адаптивности

```dsl
адаптивность {
  если платформа = 'мобильная' {
    макет: ВертикальныйСтек
  }
  если платформа = 'десктоп' {
    макет: ГоризонтальныйСтек
  }
}
```

### Переиспользуемые компоненты

```dsl
компонент КарточкаУслуги {
  макет Слой {
    элементы: [Изображение, Название, Цена]
  }
}

экран Услуги {
  макет Сетка {
    колонки: 2
    элементы: [КарточкаУслуги, КарточкаУслуги, КарточкаУслуги]
  }
}
```

---

## Интеграция с другими DSL

| DSL             | Взаимодействие                          |
| --------------- | --------------------------------------- |
| UI DSL          | Описывает внешний вид компонентов       |
| Interaction DSL | Указывает взаимодействия с элементами   |
| Test DSL        | Проверяет корректную разметку           |
| Animation DSL   | Привязывает анимации к позициям/размеру |

---

## Особенности

* Поддержка условий отображения элементов
* Возможность динамического скрытия/показа блоков
* Поддержка вложенных макетов и модульности

---

## Пример: экран профиля

```dsl
экран ПрофильПользователя {
  макет ВертикальныйСтек {
    элементы: [
      Аватар,
      Имя,
      КнопкаРедактировать,
      если роль = 'админ' {
        КнопкаУправление
      }
    ]
  }
}
```