# UI DSL — Документация

**UI DSL** — это слой в архитектуре Unified App DSL, предназначенный для декларативного описания пользовательского интерфейса, его элементов и визуальных компонентов.

UI DSL логически отделён от Layout DSL, который отвечает за размещение, адаптивность и правила позиционирования. UI DSL фокусируется на компонентной структуре и стилизации.

---

## Цели UI DSL

* Описание компонентов и их вложенности
* Стилизация элементов интерфейса
* Интеграция с Layout DSL, Theme DSL и Interaction DSL
* Переиспользуемость компонент
* Поддержка условной визуализации в зависимости от состояния или фич

---

## Основные конструкции

### Компонент

```dsl
компонент КнопкаДобавитьВКорзину {
  тип: button
  текст: "Добавить в корзину"
  иконка: Иконка.Корзина
  стиль: accent
  onClick: ДобавитьБлюдоВКорзину
}

компонент СписокБлюд {
  тип: list
  элемент: КарточкаБлюда
}

компонент КарточкаБлюда {
  тип: card
  поля: [ название, описание, цена, кнопка: КнопкаДобавитьВКорзину ]
}

компонент ЭкранОплаты {
  тип: form
  поля: [ способ_оплаты, адрес_доставки, кнопка: КнопкаОплатить ]
}

компонент КнопкаОплатить {
  тип: button
  текст: "Оплатить заказ"
  стиль: primary
  onClick: ПровестиОплату
}
```

### Стилизация

```dsl
стиль accent {
  цветФона: #FF9900
  цветТекста: #FFFFFF
  скругление: 8
  тень: small
}

стиль primary {
  цветФона: #0099FF
  цветТекста: #FFFFFF
  скругление: 8
  тень: medium
}
```

### Использование компонент в Layout DSL

```dsl
экран ГлавныйЭкран {
  layout: вертикальныйСписок {
    компонент: Заголовок("Добро пожаловать")
    компонент: КнопкаЗаказа
  }
}
```

### Состояния компонентов

```dsl
компонент КнопкаСостояния {
  тип: button
  текст: если (загрузка) "Загрузка..." иначе "Сохранить"
  отключен: загрузка
  onClick: СохранитьФорму
}
```

---

## Встроенные типы компонентов

* `text`
* `button`
* `input`
* `select`
* `switch`
* `image`
* `card`
* `list`
* `modal`
* `badge`
* `tab`
* `form`
* `icon`

---

## Поддержка темизации

```dsl
тема light {
  primary: #3366FF
  background: #FFFFFF
  text: #333333
}

тема dark {
  primary: #6699FF
  background: #1A1A1A
  text: #FFFFFF
}
```

---

## Интеграции с другими DSL

| DSL             | Интеграция                                        |
| --------------- | ------------------------------------------------- |
| Layout DSL      | Определяет размещение компонентов                 |
| Interaction DSL | Поведение и события UI                            |
| Product DSL     | Условная отрисовка по активным фичам              |
| Theme DSL       | Управление темами и цветами                       |
| Animation DSL   | Связь с анимациями появления, исчезновения и т.д. |

---

## Пример: экран входа

```dsl
экран ЭкранВхода {
  layout: колонка {
    компонент: Заголовок("Войти")
    компонент: input {
      placeholder: "Email"
      иконка: Иконка.Письмо
    }
    компонент: input {
      placeholder: "Пароль"
      тип: password
    }
    компонент: КнопкаВхода
  }
}

компонент КнопкаВхода {
  тип: button
  текст: "Войти"
  стиль: primary
  onClick: ВойтиПользователь
}
```

---

## Возможные расширения

* Визуальные пресеты и библиотеки компонентов
* Импорт Figma-компонентов (связь с Figma DSL)
* Адаптация под WebGL или канвас-интерфейсы
* Генерация кода для Flutter / Blitz.js / React
