# Data DSL — Документация

**Data DSL** — это слой в Unified App DSL, отвечающий за декларативное описание данных, структур, связей и ограничений.

---

## Цели Data DSL

* Централизованное описание доменной модели
* Генерация кода (базы данных, API, GraphQL, Prisma, ORM)
* Связь с валидацией, UI и тестами

---

## Базовые конструкции

### Сущности

```dsl
сущность Пользователь {
  id: uuid
  имя: строка
  email: email
  роль: enum(Клиент, Исполнитель, Админ)
  создан: datetime
}
```

### Связи

```dsl
сущность Заявка {
  id: uuid
  клиент: связь к Пользователь
  описание: текст
  статус: enum(Новая, В работе, Завершена)
  создан: datetime
}
```

---

## Поддерживаемые типы

* `строка`, `текст`, `число`, `дата`, `datetime`, `email`, `телефон`
* `enum(...)` для перечислений
* `uuid`, `id`, `bool`
* `json`, `массив`, `связь`

---

## Валидация

```dsl
сущность Сообщение {
  текст: текст {
    обязательно
    мин: 1
    макс: 1000
  }
  автор: связь к Пользователь
}
```

---

## Связь с другими DSL

| DSL              | Роль                                     |
| ---------------- | ---------------------------------------- |
| Logic / Behavior | Получает и обновляет данные через методы |
| UI DSL           | Отражение полей в формах, инпутах        |
| Test DSL         | Создание тестов с исходными данными      |
| Validation DSL   | Получает описания правил                 |

---

## Возможные расширения

* Импорт/экспорт схем
* Автогенерация API/CRUD/валидаторов
* Схемы для аналитики и складов

---
